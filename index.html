<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>BAP UI ‚Äî AI Identity & SecOps Command Center</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <!-- Professional fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root { 
      --primary: #2563EB; 
      --accent: #06B6D4; 
      --glass-bg: rgba(255, 255, 255, 0.06);
      --glass-border: rgba(255, 255, 255, 0.08);
    }
    
    body { 
      background: #0b1220 url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="none"%3E%3Ccircle cx="10" cy="10" r="1" fill="rgba(255,255,255,0.2)" /%3E%3Ccircle cx="50" cy="50" r="1.5" fill="rgba(255,255,255,0.3)" /%3E%3Ccircle cx="90" cy="90" r="1" fill="rgba(255,255,255,0.2)" /%3E%3C/svg%3E') repeat;
      color: #e6f0fb; 
      font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto;
      position: relative;
      overflow-x: hidden;
    }
    
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 20% 20%, rgba(37, 99, 235, 0.2) 0%, transparent 50%),
                  radial-gradient(circle at 80% 20%, rgba(6, 182, 212, 0.2) 0%, transparent 50%),
                  radial-gradient(circle at 50% 80%, rgba(217, 70, 239, 0.2) 0%, transparent 50%);
      z-index: -1;
    }
    
    .glass { 
      background: var(--glass-bg); 
      backdrop-filter: blur(10px); 
      border: 1px solid var(--glass-border); 
      border-radius: 12px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .glass:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 40px rgba(0, 0, 0, 0.3);
    }
    
    .btn-primary { 
      background: linear-gradient(90deg, #22c55e, #16a34a); 
      color: #fff; 
      padding: .7rem 1rem; 
      border-radius: .6rem; 
      font-weight: 700; 
    }
    
    .btn-ghost { 
      border: 1px solid rgba(255, 255, 255, 0.15); 
      padding: .6rem .9rem; 
      border-radius: .6rem; 
      font-weight: 700; 
      background: rgba(255, 255, 255, 0.05);
    }
    
    .btn-ai {
      background: linear-gradient(90deg, #3b82f6, #8b5cf6);
      color: #fff;
      padding: .7rem 1rem;
      border-radius: .6rem;
      font-weight: 700;
      border: 1px solid rgba(139, 92, 246, 0.3);
    }
    
    .kpi { 
      background: rgba(255, 255, 255, 0.05); 
      padding: .75rem; 
      border-radius: .6rem; 
      border: 1px solid var(--glass-border);
    }
    
    .section { 
      padding: 4rem 0; 
    }
    
    .brand-container {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .brand-logo {
      height: 40px;
      width: auto;
      border-radius: 6px;
      transition: all 0.3s ease;
    }
    
    .brand-logo:hover {
      transform: scale(1.05);
    }
    
    .brand-text {
      font-weight: 800;
      font-size: 1.2rem;
      background: linear-gradient(135deg, #60a5fa, #22c55e 50%, #d946ef 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    a, button { 
      transition: all 0.2s ease; 
    }
    
    a:hover, button:hover { 
      opacity: 0.9; 
      transform: scale(1.05); 
    }
    
    .toast {
      position: fixed; 
      right: 16px; 
      bottom: 16px; 
      background: #10b981; 
      color: #fff; 
      padding: .6rem .8rem; 
      border-radius: .5rem; 
      opacity: 0; 
      transform: translateY(12px); 
      transition: all 0.3s ease; 
      z-index: 9999;
    }
    
    .toast.show { 
      opacity: 1; 
      transform: translateY(0); 
    }
    
    /* AI Identity Demo Styles */
    .ai-demo-card {
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
      border: 1px solid rgba(139, 92, 246, 0.2);
      border-radius: 12px;
    }
    
    .metric-badge {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 1rem;
      text-align: center;
    }
    
    .metric-value {
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(90deg, #60a5fa, #a78bfa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .metric-label {
      font-size: 0.75rem;
      color: #94a3b8;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    
    .progress-bar {
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #3b82f6, #8b5cf6);
      transition: width 0.5s ease;
    }
    
    .chat-bubble {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 0.75rem 1rem;
      margin-bottom: 0.75rem;
      max-width: 85%;
    }
    
    .chat-bubble.user {
      margin-left: auto;
      background: rgba(59, 130, 246, 0.15);
      border-color: rgba(59, 130, 246, 0.3);
    }
    
    .chat-bubble.ai {
      background: rgba(139, 92, 246, 0.15);
      border-color: rgba(139, 92, 246, 0.3);
    }
    
    /* Print styles for Exec Brief */
    @media print {
      #exec-brief { display: block !important; }
      nav, header, section:not(#brief-section), footer { display: none !important; }
      body { background: #fff; color: #111827; }
      body::before { display: none; }
    }
    
    @media (max-width: 768px) {
      .section { padding: 2rem 0; }
      .brand-logo { height: 32px; }
      .brand-text { font-size: 1rem; }
    }
  </style>
</head>
<body>

  <!-- NAV -->
  <nav class="fixed top-0 inset-x-0 z-50 glass">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="brand-container">
        <img src="https://github.com/hustle-rent-due/BAPxAI/blob/main/ChatGPT%20Image%20Sep%2013,%202025%20at%2007_02_09%20PM.png?raw=true" 
             alt="BAP Logo" 
             class="brand-logo">
        <div class="brand-text">BAP UI‚Ñ¢ + AI Labs</div>
      </div>
      <div class="hidden md:flex items-center space-x-6 text-sm">
        <a href="#ai-identity" class="hover:text-purple-300">AI Identity</a>
        <a href="#secops" class="hover:text-blue-300">SecOps</a>
        <a href="#hubs" class="hover:text-blue-300">Hubs</a>
        <a href="#vq-audit" class="hover:text-green-300">VQ Audit</a>
        <a href="#demo" class="btn-primary">Book Walkthrough</a>
      </div>
    </div>
  </nav>

  <!-- UPDATED HERO SECTION WITH AI IDENTITY -->
  <header class="pt-28 pb-10">
    <div class="max-w-7xl mx-auto px-4">
      <div class="grid md:grid-cols-2 gap-8 items-center">
        <!-- AI Identity Section -->
        <div>
          <div class="uppercase tracking-wide text-xs mb-2 opacity-70">AI Identity Persistence</div>
          <h1 class="text-3xl md:text-5xl font-extrabold leading-tight">
            Identity ‚â† Chat History<br>
            <span class="text-purple-300">Proven in Browser</span>
          </h1>
          <p class="mt-4 opacity-90">
            PermaMind‚Ñ¢ v3 demonstrates identity persistence independent of chat history. 
            Enterprise-ready AI that maintains state across sessions, resets, and deployments.
          </p>
          <div class="mt-5 flex flex-wrap gap-3">
            <a href="pssu.html" class="btn-ai">
              <i class="fa-solid fa-brain mr-2"></i>Start Demo
            </a>
            <a href="#architecture" class="btn-ghost">
              <i class="fa-solid fa-diagram-project mr-2"></i>View Architecture
            </a>
            <a href="#secops-demo" class="btn-ghost">
              <i class="fa-solid fa-shield-alt mr-2"></i>SecOps Demo
            </a>
          </div>
        </div>

        <!-- AI Identity Metrics Preview -->
        <div class="ai-demo-card glass p-6">
          <div class="flex items-center justify-between mb-4">
            <div>
              <h3 class="font-bold text-lg">PermaMind‚Ñ¢ v3</h3>
              <div class="text-sm opacity-70">Identity Persistence Demo</div>
            </div>
            <div class="text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded">
              Live Preview
            </div>
          </div>
          
          <div class="grid grid-cols-3 gap-3 mb-6">
            <div class="metric-badge">
              <div class="metric-value" id="preview-trust">0.68</div>
              <div class="metric-label">Trust</div>
              <div class="progress-bar mt-2">
                <div class="progress-fill" style="width: 68%"></div>
              </div>
            </div>
            <div class="metric-badge">
              <div class="metric-value" id="preview-coherence">0.82</div>
              <div class="metric-label">Coherence</div>
              <div class="progress-bar mt-2">
                <div class="progress-fill" style="width: 82%"></div>
              </div>
            </div>
            <div class="metric-badge">
              <div class="metric-value" id="preview-adaptation">0.14</div>
              <div class="metric-label">Adaptation</div>
              <div class="progress-bar mt-2">
                <div class="progress-fill" style="width: 14%"></div>
              </div>
            </div>
          </div>
          
          <div class="text-sm opacity-80 mb-4">
            <i class="fa-solid fa-lightbulb mr-2 text-yellow-400"></i>
            <b>Quick test:</b> Trigger events ‚Üí Reset ‚Üí Type "hey" ‚Üí Observe persistent identity
          </div>
          
          <div class="flex gap-2">
            <button onclick="simulateAICheckin()" class="btn-ghost flex-1 text-sm">
              <i class="fa-solid fa-check mr-1"></i>Check-in
            </button>
            <button onclick="simulateAIReset()" class="btn-ghost flex-1 text-sm">
              <i class="fa-solid fa-rotate mr-1"></i>Reset
            </button>
            <a href="pssu.html" class="btn-ai flex-1 text-sm text-center">
              <i class="fa-solid fa-arrow-right mr-1"></i>Full Demo
            </a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- AI IDENTITY DEMO SECTION -->
  <section id="ai-identity" class="section">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl md:text-3xl font-extrabold mb-2">AI Identity Persistence</h2>
      <p class="opacity-80 mb-6">Proving that AI identity can persist independently of chat history. Survives resets, redeploys, and version updates.</p>
      
      <div class="grid md:grid-cols-3 gap-6 mb-8">
        <div class="glass p-5">
          <div class="text-3xl mb-3">üîÑ</div>
          <h3 class="font-bold text-lg mb-2">Persistence Across Sessions</h3>
          <p class="text-sm opacity-90">Identity state persists even when chat history is cleared. The AI remembers its relationship with users.</p>
        </div>
        <div class="glass p-5">
          <div class="text-3xl mb-3">üéØ</div>
          <h3 class="font-bold text-lg mb-2">Adaptive Learning</h3>
          <p class="text-sm opacity-90">Trust, vigilance, warmth, and coherence evolve based on interaction patterns.</p>
        </div>
        <div class="glass p-5">
          <div class="text-3xl mb-3">üè¢</div>
          <h3 class="font-bold text-lg mb-2">Enterprise Ready</h3>
          <p class="text-sm opacity-90">Drop-in SDK + API for production systems. Pilot pricing: $35K‚Äì$75K.</p>
        </div>
      </div>
      
      <!-- Demo Call to Action -->
      <div class="glass p-8 text-center">
        <h3 class="text-xl font-bold mb-4">Try the Full Interactive Demo</h3>
        <p class="opacity-80 mb-6 max-w-2xl mx-auto">
          Experience identity persistence in action. See how AI maintains personality across resets, 
          and export the state for production use.
        </p>
        <div class="flex flex-wrap gap-4 justify-center">
          <a href="pssu.html" class="btn-ai px-8">
            <i class="fa-solid fa-play mr-2"></i>Launch PermaMind Demo
          </a>
          <button onclick="showArchitecture()" class="btn-ghost">
            <i class="fa-solid fa-code mr-2"></i>View Technical Specs
          </button>
        </div>
        <p class="text-xs opacity-60 mt-4">No installation required. Runs entirely in your browser.</p>
      </div>
    </div>
  </section>

  <!-- ARCHITECTURE SECTION -->
  <section id="architecture" class="section glass">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl md:text-3xl font-extrabold mb-2">Architecture & Deployment</h2>
      <p class="opacity-90 mb-6">Single container deployment. No data leaves your environment.</p>
      
      <div class="grid md:grid-cols-2 gap-8">
        <div>
          <h3 class="font-bold text-lg mb-4">Demo Environment</h3>
          <ul class="space-y-3">
            <li class="flex items-start">
              <i class="fa-solid fa-check text-green-400 mt-1 mr-3"></i>
              <div>
                <div class="font-medium">Static HTML (This page)</div>
                <div class="text-sm opacity-70">GitHub Pages deployable, simulated data</div>
              </div>
            </li>
            <li class="flex items-start">
              <i class="fa-solid fa-check text-green-400 mt-1 mr-3"></i>
              <div>
                <div class="font-medium">Browser Storage</div>
                <div class="text-sm opacity-70">localStorage persistence, no servers needed</div>
              </div>
            </li>
            <li class="flex items-start">
              <i class="fa-solid fa-check text-green-400 mt-1 mr-3"></i>
              <div>
                <div class="font-medium">Zero Infrastructure</div>
                <div class="text-sm opacity-70">No databases, no APIs, just JavaScript</div>
              </div>
            </li>
          </ul>
        </div>
        
        <div>
          <h3 class="font-bold text-lg mb-4">Production Deployment</h3>
          <ul class="space-y-3">
            <li class="flex items-start">
              <i class="fa-solid fa-server text-blue-400 mt-1 mr-3"></i>
              <div>
                <div class="font-medium">Single Container</div>
                <div class="text-sm opacity-70">Docker container in your cloud/VPC</div>
              </div>
            </li>
            <li class="flex items-start">
              <i class="fa-solid fa-plug text-blue-400 mt-1 mr-3"></i>
              <div>
                <div class="font-medium">Your Data Sources</div>
                <div class="text-sm opacity-70">Read-only to Splunk, CrowdStrike, Okta</div>
              </div>
            </li>
            <li class="flex items-start">
              <i class="fa-solid fa-lock text-blue-400 mt-1 mr-3"></i>
              <div>
                <div class="font-medium">Your Auth, Your Data</div>
                <div class="text-sm opacity-70">SSO + RBAC + Audit logs, no data exfiltration</div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- EXISTING SECOPS DEMO (KEEP AS IS) -->
  <section id="secops-demo" class="section">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl md:text-3xl font-extrabold mb-2">SecOps & Compliance Command Center</h2>
      <p class="opacity-90">Live Ops ‚Üí SOC2/ISO/NIST export in minutes. Works with your stack.</p>
      
      <!-- Your existing SecOps demo inline -->
      <div class="glass rounded-xl p-3 mt-6">
        <div class="text-sm mb-2 flex items-center justify-between">
          <div class="font-semibold">SecOps Command Center (demo)</div>
          <div class="text-xs opacity-70">live simulated data</div>
        </div>
        <div class="grid md:grid-cols-3 gap-3">
          <div class="md:col-span-1">
            <canvas id="riskChart" class="w-full"></canvas>
            <div class="grid grid-cols-3 gap-3 mt-3 text-center text-xs">
              <div><div class="opacity-70">MTTD</div><div id="mttd" class="text-xl font-extrabold">28m</div></div>
              <div><div class="opacity-70">MTTR</div><div id="mttr" class="text-xl font-extrabold">9h</div></div>
              <div><div class="opacity-70">Open</div><div id="openInc" class="text-xl font-extrabold">7</div></div>
            </div>
            <div class="mt-3 flex gap-2">
              <button id="simulate" class="btn-ghost w-full text-xs">Simulate</button>
            </div>
          </div>
          <div class="md:col-span-1">
            <h3 class="font-bold text-sm mb-1">Incident Feed</h3>
            <ul id="feed" class="space-y-2 text-xs"></ul>
            <h3 class="font-bold text-sm mt-4 mb-1">Next Best Actions</h3>
            <div id="nba" class="space-y-2 text-xs"></div>
          </div>
          <div class="md:col-span-1">
            <div class="flex items-center justify-between">
              <h3 class="font-bold text-sm mb-1">Compliance</h3>
              <button id="exportCompliance" class="btn-ghost text-xs">Export CSV</button>
            </div>
            <div class="mt-1 text-xs">
              <div class="mb-2">SOC2 Coverage <span id="soc2Pct" class="float-right">72%</span>
                <div class="h-2 bg-white bg-opacity-10 rounded"><div id="soc2Bar" class="h-2 bg-green-400 rounded" style="width:72%"></div></div>
              </div>
              <div class="mb-2">ISO 27001 <span id="isoPct" class="float-right">61%</span>
                <div class="h-2 bg-white bg-opacity-10 rounded"><div id="isoBar" class="h-2 bg-blue-400 rounded" style="width:61%"></div></div>
              </div>
              <div class="mb-2">NIST CSF <span id="nistPct" class="float-right">54%</span>
                <div class="h-2 bg-white bg-opacity-10 rounded"><div id="nistBar" class="h-2 bg-purple-400 rounded" style="width:54%"></div></div>
              </div>
            </div>
            <p class="mt-2 text-[11px] opacity-70">Read-only to Splunk ‚Ä¢ CrowdStrike ‚Ä¢ Okta. SSO ‚Ä¢ RBAC ‚Ä¢ Audit logs.</p>
          </div>
        </div>
        <p class="text-[11px] opacity-60 mt-2">This inline demo is self-contained‚Äîno external files.</p>
      </div>
    </div>
  </section>

  <!-- KEEP YOUR EXISTING SECTIONS (HUBS, EXPERTISE, INTEGRATIONS, etc.) -->
  <!-- I'm showing the structure, but you should keep your existing content -->

  <!-- HUBS SECTION -->
  <section id="hubs" class="section">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl md:text-3xl font-extrabold mb-2">The 4 hubs leaders want first</h2>
      <p class="opacity-80">Answer: What's burning? Who owns it? Are we compliant? How fast do we fix?</p>
      <div class="grid md:grid-cols-2 gap-5 mt-6">
        <div class="glass rounded-lg p-4">
          <h3 class="font-bold">Live SecOps</h3>
          <ul class="mt-2 text-sm opacity-90 list-disc ml-5">
            <li>Risk gauge, incident feed, geo map</li>
            <li>Owner prompts, escalation, trends</li>
            <li>MTTD / MTTR visibility</li>
          </ul>
        </div>
        <div class="glass rounded-lg p-4">
          <h3 class="font-bold">Compliance & Evidence</h3>
          <ul class="mt-2 text-sm opacity-90 list-disc ml-5">
            <li>SOC2 / ISO 27001 / NIST CSF coverage</li>
            <li>One-click CSV/PDF exports</li>
            <li>Audit trails, access logs</li>
          </ul>
        </div>
        <div class="glass rounded-lg p-4">
          <h3 class="font-bold">Vulnerability & Patch</h3>
          <ul class="mt-2 text-sm opacity-90 list-disc ml-5">
            <li>Overdue criticals, SLAs, patch score</li>
            <li>Owner nudges into Jira/ServiceNow</li>
            <li>Coverage by BU / platform</li>
          </ul>
        </div>
        <div class="glass rounded-lg p-4">
          <h3 class="font-bold">Identity & Access</h3>
          <ul class="mt-2 text-sm opacity-90 list-disc ml-5">
            <li>MFA coverage, stale accounts</li>
            <li>JML (joiner/mover/leaver) pipeline</li>
            <li>Privileged access review</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Add a note about the AI Identity in the existing sections -->
  <section class="section glass">
    <div class="max-w-7xl mx-auto px-4 text-center">
      <h3 class="text-xl font-bold mb-4">Two Demos, One Platform</h3>
      <p class="opacity-80 mb-6 max-w-3xl mx-auto">
        BAP UI now showcases both AI Identity Persistence and SecOps Command Center. 
        Both demonstrate our core philosophy: <b>powerful functionality that runs anywhere</b>‚Äîfrom static HTML demos to enterprise containers in your cloud.
      </p>
      <div class="flex flex-wrap gap-4 justify-center">
        <a href="pssu.html" class="btn-ai">
          <i class="fa-solid fa-brain mr-2"></i>AI Identity Demo
        </a>
        <a href="#secops-demo" class="btn-primary">
          <i class="fa-solid fa-shield-alt mr-2"></i>SecOps Demo
        </a>
        <a href="#demo" class="btn-ghost">
          <i class="fa-solid fa-calendar mr-2"></i>Book Full Walkthrough
        </a>
      </div>
    </div>
  </section>

  <!-- KEEP THE REST OF YOUR EXISTING SECTIONS -->
  <!-- OUR EXPERTISE, INTEGRATIONS, PACKAGES, FREE PACK, VQ AUDIT, etc. -->

  <!-- DEMO CTA -->
  <section id="demo" class="section">
    <div class="max-w-7xl mx-auto px-4 text-center">
      <h2 class="text-3xl font-extrabold">Book a 10-minute walkthrough</h2>
      <p class="opacity-80 mt-2">See both AI Identity and SecOps demos live. Read-only + SSO. Zero pressure.</p>
      <div class="mt-4 flex justify-center gap-3">
        <a href="mailto:nile@bapxai.com" class="btn-primary"><i class="fa-solid fa-envelope mr-2"></i>Email Nile</a>
        <a href="tel:570-277-5107" class="btn-ghost"><i class="fa-solid fa-phone mr-2"></i>Call</a>
        <a href="pssu.html" class="btn-ai">
          <i class="fa-solid fa-brain mr-2"></i>AI Identity Demo
        </a>
      </div>
    </div>
  </section>

  <footer class="py-8 text-center text-sm opacity-70">
    ¬© 2025 Breakthrough AI Protocols ¬∑ BAP UI‚Ñ¢ + AI Labs ¬∑ 
    <a href="pssu.html" class="text-purple-300 hover:text-purple-200">AI Identity Demo</a> ¬∑ 
    <a href="vq-audit.html" class="text-green-300 hover:text-green-200">VQ-MODEL‚Ñ¢ Audit</a>
  </footer>

  <!-- HIDDEN PRINT BRIEF (keep as is) -->
  <section id="exec-brief" style="display:none">
    <!-- Your existing exec brief content -->
  </section>

  <div id="toast" class="toast"></div>

  <script>
    // AI Identity Preview Simulation
    function simulateAICheckin() {
      const trust = document.getElementById('preview-trust');
      const coherence = document.getElementById('preview-coherence');
      
      // Increase values slightly
      let trustVal = parseFloat(trust.textContent);
      let coherenceVal = parseFloat(coherence.textContent);
      
      trustVal = Math.min(0.95, trustVal + 0.07);
      coherenceVal = Math.min(0.95, coherenceVal + 0.05);
      
      trust.textContent = trustVal.toFixed(2);
      coherence.textContent = coherenceVal.toFixed(2);
      
      // Update progress bars
      document.querySelectorAll('.progress-fill')[0].style.width = (trustVal * 100) + '%';
      document.querySelectorAll('.progress-fill')[1].style.width = (coherenceVal * 100) + '%';
      
      showToast('AI Trust increased: Consistent check-in simulated', true);
    }
    
    function simulateAIReset() {
      // Reset to baseline values
      document.getElementById('preview-trust').textContent = '0.50';
      document.getElementById('preview-coherence').textContent = '0.85';
      document.getElementById('preview-adaptation').textContent = '0.12';
      
      // Reset progress bars
      document.querySelectorAll('.progress-fill')[0].style.width = '50%';
      document.querySelectorAll('.progress-fill')[1].style.width = '85%';
      document.querySelectorAll('.progress-fill')[2].style.width = '12%';
      
      showToast('AI reset to baseline. Note: Identity would persist in full demo.', true);
    }
    
    function showArchitecture() {
      showToast('Architecture: Static demo ‚Üí Single container in your cloud ‚Üí No data exfiltration', true);
    }
    
    // Toast function
    function showToast(msg, ok=true){
      const t=document.getElementById('toast');
      t.textContent=msg;
      t.style.background = ok ? '#10b981' : '#ef4444';
      t.classList.add('show');
      setTimeout(()=>t.classList.remove('show'),3000);
    }
    
    // Initialize SecOps demo (your existing code)
    function initSecOpsDemo() {
      // Risk doughnut
      const ctx = document.getElementById('riskChart').getContext('2d');
      let risk = 72;
      const riskChart = new Chart(ctx, {
        type: 'doughnut',
        data: { 
          labels: ['Risk','Remaining'], 
          datasets: [{ 
            data: [risk, 100-risk], 
            borderWidth: 0,
            backgroundColor: ['#2563EB', 'rgba(255,255,255,0.1)']
          }] 
        },
        options: { 
          responsive: true, 
          cutout: '70%', 
          plugins: { 
            legend: { display: false }, 
            tooltip: { enabled: false } 
          } 
        }
      });
      
      const centerLabel = { 
        id: 'centerLabel', 
        afterDraw(chart){
          const {ctx} = chart;
          const m = chart.getDatasetMeta(0).data[0];
          if(!m) return;
          ctx.save(); 
          ctx.fillStyle='#e6f0fb'; 
          ctx.textAlign='center';
          ctx.font='700 22px Inter'; 
          ctx.fillText('RISK', m.x, m.y-4);
          ctx.font='700 28px Inter'; 
          ctx.fillText(Math.round(risk)+'%', m.x, m.y+24); 
          ctx.restore();
        }
      };
      riskChart.config.plugins = [centerLabel]; 
      riskChart.update();

      // Incident feed + next best actions
      const feed = document.getElementById('feed');
      const nba = document.getElementById('nba');
      const incidents = [
        {t:"Multiple failed logins", owner:"IAM"},
        {t:"EDR alert: suspicious PowerShell", owner:"SecOps"},
        {t:"MFA disabled on 3 accounts", owner:"IT"},
        {t:"Unpatched critical CVE on 12 hosts", owner:"Platform"},
        {t:"Privileged role granted outside CAB", owner:"Change Mgmt"},
        {t:"Public S3 bucket detected", owner:"Cloud"},
        {t:"High-risk vendor missing questionnaire", owner:"GRC"}
      ];
      
      function renderFeed(items){
        feed.innerHTML="";
        items.forEach(x=>{
          const li=document.createElement('li');
          li.className="p-2 rounded bg-white bg-opacity-5 flex items-center justify-between";
          li.innerHTML = `<span>${x.t} ‚Äî <span class="opacity-70">Owner: ${x.owner}</span></span>
            <button class="btn-ghost text-[11px]" onclick="secOpsAssign('${x.owner}','${x.t}')">Assign</button>`;
          feed.appendChild(li);
        });
      }
      
      function renderNBA(){
        nba.innerHTML="";
        const suggestions = [
          {a:"Re-enable MFA on 3 accounts", owner:"IAM"},
          {a:"Quarantine host from EDR alert", owner:"SecOps"},
          {a:"Open change for critical patch", owner:"Platform"},
        ];
        suggestions.forEach(s=>{
          const div=document.createElement('div');
          div.className="p-2 rounded bg-white bg-opacity-5 flex items-center justify-between";
          div.innerHTML=`<span>${s.a} ‚Äî <span class="opacity-70">Owner: ${s.owner}</span></span>
            <div class="flex gap-2">
              <button class="btn-ghost text-[11px]" onclick="secOpsAssign('${s.owner}','${s.a}')">Assign</button>
              <button class="btn-ghost text-[11px]" onclick="secOpsJira('${s.a}')">Open Jira</button>
            </div>`;
          nba.appendChild(div);
        });
      }
      
      window.secOpsAssign = function(owner, what){ showToast(`Assigned to ${owner}: ${what}`); }
      window.secOpsJira = function(what){ showToast(`Jira ticket created: ${what}`); }

      renderFeed(incidents.slice(0,5));
      renderNBA();

      // Compliance values + simulate
      function setPct(idTxt,idBar,val){
        document.getElementById(idTxt).textContent = val + "%";
        document.getElementById(idBar).style.width = val + "%";
      }
      
      let soc2=72, iso=61, nist=54;

      document.getElementById('simulate').onclick = ()=>{
        risk = Math.max(20, Math.min(95, risk + (Math.random()*16-8)));
        riskChart.data.datasets[0].data = [risk, 100-risk]; 
        riskChart.update();
        document.getElementById('mttd').textContent = Math.round(18 + Math.random()*20) + "m";
        document.getElementById('mttr').textContent = Math.round(4 + Math.random()*16) + "h";
        document.getElementById('openInc').textContent = Math.round(4 + Math.random()*9);
        soc2 = Math.max(40, Math.min(95, soc2 + (Math.random()*6-3)));
        iso  = Math.max(35, Math.min(90, iso  + (Math.random()*6-3)));
        nist = Math.max(30, Math.min(85, nist + (Math.random()*6-3)));
        setPct('soc2Pct','soc2Bar',Math.round(soc2));
        setPct('isoPct','isoBar',Math.round(iso));
        setPct('nistPct','nistBar',Math.round(nist));
        renderFeed(incidents.sort(()=>0.5-Math.random()).slice(0,5));
        renderNBA();
      };

      // Export Compliance CSV
      document.getElementById('exportCompliance').onclick = ()=>{
        const rows = [
          ["Framework","Control","Status","Owner","Evidence"],
          ["SOC2","CC6.1 ‚Äî Access Control", soc2>70?"Covered":"Gap","Security","Okta group membership + review"],
          ["ISO27001","A.5 ‚Äî Policies", iso>60?"Covered":"Gap","GRC","Policy doc + sign-off"],
          ["NIST CSF","PR.AC-1 ‚Äî Id Mgmt", nist>60?"Covered":"Gap","IAM","MFA logs + identity proof"]
        ];
        const csv = rows.map(r => r.map(x => `"${String(x).replaceAll('"','""')}"`).join(",")).join("\n");
        const blob = new Blob([csv], {type:"text/csv"});
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = "BAP_Compliance_Export.csv";
        a.click();
        URL.revokeObjectURL(a.href);
      };
    }
    
    // Initialize everything when page loads
    document.addEventListener('DOMContentLoaded', function() {
      initSecOpsDemo();
      
      // Add smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          if (targetId === '#') return;
          
          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            window.scrollTo({
              top: targetElement.offsetTop - 80,
              behavior: 'smooth'
            });
          }
        });
      });
    });
  </script>
</body>
</html>
